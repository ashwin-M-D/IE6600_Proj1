# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
data <- read.csv("./Bertha_Proj1_Data/Park_Crime_Merge (1).csv", sep=",", header=T, check.names = FALSE)
View(data)
data <- data[,!(names(data) %in% c("CITY", "PARK_NAME" ,"CENTER_LAT","CENTER_LON"))]
data <- read.csv("./Bertha_Proj1_Data/Park_Crime_Merge (1).csv", sep=",", header=T, check.names = FALSE)
data <- data[,(names(data) %in% c("CITY", "PARK_NAME" ,"CENTER_LAT","CENTER_LON"))]
answer<- data %>%
group_by("CITY", "PARK_NAME")  %>%
summarise_at(vars("1/22/20":"10/25/20"), sum, na.rm = TRUE)  %>%
drop_na()
answer<- data %>%
group_by("CITY", "PARK_NAME")  %>%
summarise_at(vars("CENTER_LAT","CENTER_LON"), sum, na.rm = TRUE)  %>%
drop_na()
View(answer)
answer<- data %>%
group_by(CITY, PARK_NAME)  %>%
summarise_at(vars("CENTER_LAT","CENTER_LON"), sum, na.rm = TRUE)  %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME)  %>%
summarize(count=n(), na.rm = TRUE) %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME)  %>%
summarize(Vars("CENTER_LAT","CENTER_LON"), count=n(), na.rm = TRUE) %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME)  %>%
summarize(vars("CENTER_LAT","CENTER_LON"), count=n(), na.rm = TRUE) %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME)  %>%
summarize_at(vars("CENTER_LAT","CENTER_LON"), count=n(), na.rm = TRUE) %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME, CENTER_LAT, CENTER_LON)  %>%
summarize( count=n(), na.rm = TRUE) %>%
drop_na()
answer<- data %>%
group_by(CITY, PARK_NAME, CENTER_LAT, CENTER_LON)  %>%
summarize(count=n()) %>%
drop_na()
answer<- data %>%
group_by(CITY)  %>%
summarize(LAT=mean(CENTER_LAT), LON=mean(CENTER_LON), count=n()) %>%
drop_na()
## 3: save the new data summary into a new *.csv file
write.csv(answer,"clean_1.csv")
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
data <- read.csv("./Bertha_Proj1_Data/park_data_2016_with_census (1).csv", sep=",", header=T, check.names = FALSE)
View(data)
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
data <- read.csv("./Bertha_Proj1_Data/Park_Crime_Merge (1).csv", sep=",", header=T, check.names = FALSE)
data <- data[,(names(data) %in% c("CITY", "PARK_NAME" ,"CENTER_LAT","CENTER_LON"))]
answer1<- data %>%
group_by(CITY)  %>%
summarize(LAT=mean(CENTER_LAT), LON=mean(CENTER_LON), count_crimes=n()) %>%
drop_na()
data <- read.csv("./Bertha_Proj1_Data/park_data_2016_with_census (1).csv", sep=",", header=T, check.names = FALSE)
data <- data[,(names(data) %in% c("CITY", "PARK_NAME"))]
answer2 <- data %>%
group_by(CITY)  %>%
summarize(count_parks=n()) %>%
drop_na()
answer <- merge(answer1 ,answer2,by="CITY")
## 3: check your results
head(answer)
## 3: save the new data summary into a new *.csv file
write.csv(answer,"clean_1.csv")
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
answer1 <- read.csv("./la-county-neighborhoods-v6.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(answer1$name))
for (i in 1:length(answer1$name)) {
check <- 0;
for(j in data$Districts){
if (j == answer1$name[i]){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- answer1$name[i]
}
}
answer1$cityname <- cityval
write.csv(answer1,"clean_2.csv")
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
answer1 <- read.csv("./la-county-neighborhoods-v6.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
View(answer1)
cityval <- rep("", length(answer1$name))
for (i in 1:length(answer1$name)) {
check <- 0;
for(j in data$Districts){
if (j == answer1$name[i]){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- answer1$name[i]
}
}
check <- 0
for (i in 1:length(answer1$name)) {
check <- 0
for(j in data$Districts){
if (j == answer1$name[i]){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- answer1$name[i]
}
}
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
answer1 <- read.csv("./la-county-neighborhoods-v6.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(answer1$name))
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
answer1 <- read.csv("./la-county-neighborhoods-v6.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(answer1$name))
for (i in 1:length(answer1$name)) {
check <- 0;
for(j in data$Districts){
if (j == answer1$name[i]){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- answer1$name[i]
}
}
answer1$cityname <- cityval
write.csv(answer1,"clean_2.csv")
install.packages("rjson")
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
library(rjson)
result <- fromJSON(file = "E:\\la-county-neighbourhood-v6.geojson")
result <- fromJSON(file = "./la-county-neighbourhood-v6.geojson")
result <- fromJSON(file = "./la-county-neighborhoods-v6.geojson")
View(result)
result$name
result
result$type
result$features$name
result$features$properties$name
result$features[1]$properties$name
result$features[[1]]$properties$name
length(result$features)
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
library(rjson)
result <- fromJSON(file = "./la-county-neighborhoods-v6.geojson")
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(result$features))
for (i in 1:length(result$features)) {
check <- 0;
for(j in data$Districts){
if (j == result$features[[i]]$properties$name){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- result$features[[i]]$properties$name
}
}
for (i in 1:length(result$features)) {
result$features[[i]]$properties$cityname <- cityval[i]
}
write(result, "result.json")
result <- toJSON(result)
write(result, "result.json")
# Load the package required to read JSON files.
library("rjson")
# Give the input file name to the function.
result <- fromJSON(file = "result.json")
# Print the result.
print(result$features[1]$properties$cityname)
# Print the result.
print(result$features[1]$properties)
# Print the result.
print(result$features[1]])
# Print the result.
result$features[1]
# Print the result.
result$features[[1]]$properties$cityname
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
library(rjson)
result <- fromJSON(file = "./la-county-neighborhoods-v6.geojson")
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(result$features))
for (i in 1:length(result$features)) {
check <- 0;
for(j in data$Districts){
if (j == result$features[[i]]$properties$name){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- result$features[[i]]$properties$name
}
}
for (i in 1:length(result$features)) {
result$features[[i]]$properties$cityname <- cityval[i]
}
result <- toJSON(result)
write(result, "result.geojson")
# Load libraries
library(dplyr)
library(magrittr)
library(tidyr)
library(rjson)
result <- fromJSON(file = "./la-county-neighborhoods-v6.geojson")
data <- read.csv("./LA_Dist.csv", sep=",", header=T, check.names = FALSE, stringsAsFactors = FALSE)
cityval <- rep("", length(result$features))
for (i in 1:length(result$features)) {
check <- 0;
for(j in data$Districts){
if (j == result$features[[i]]$properties$name){
check <- 1
break
}
}
if(check == 1){
cityval[i] <- "Los Angeles"
}
else {
cityval[i] <- result$features[[i]]$properties$name
}
}
for (i in 1:length(result$features)) {
result$features[[i]]$properties$cityname <- cityval[i]
}
result <- toJSON(result)
write(result, "result.geojson")
